---
// src/components/PortableText.astro
import { PortableText as PT } from "@portabletext/react";

const { value } = Astro.props;

const components = {
    types: {
            callout: ({ value }) => (
                <div class={`callout callout--${value.tone || "info"}`}>
        {value.title ? <strong>{value.title}</strong> : null}
                {value.text ? <p>{value.text}</p> : null}
                        </div>
),
ctaBlock: ({ value }) => (
    <div class="cta">
        <div>
            <strong>{value.title}</strong>
{value.text ? <p>{value.text}</p> : null}
    </div>
    <a class="btn" href={value.ctaHref}>{value.ctaLabel || "Try free"}</a>
    </div>
),
},
};

---
<PT value={value} components={components} />

<style>
    .callout { border: 1px solid rgba(0,0,0,.1); border-radius: 12px; padding: 12px; margin: 14px 0; }
    .cta { display:flex; justify-content: space-between; gap: 12px; align-items:center; border: 1px solid rgba(0,0,0,.1); border-radius: 12px; padding: 14px; margin: 18px 0; }
    .btn { padding: 10px 12px; border-radius: 10px; border: 1px solid rgba(0,0,0,.18); text-decoration:none; }
</style>
